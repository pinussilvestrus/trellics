angular.module("trelloService",[]).factory("Trello",function($http,$q,$rootScope){var trello={},authenticationSuccess=function(){trello.getUserData(),trello.initializeBoards()},authenticationFailure=function(){console.log("failure")};return trello.init=function(){Trello.authorize({type:"popup",name:"Getting Started Application",scope:{read:!0,write:!0},expiration:"never",success:authenticationSuccess,error:authenticationFailure})},trello.getUserData=function(){var getSuccess=function(data){$rootScope.userData=data};Trello.get("/members/me",getSuccess)},trello.initializeBoards=function(){var getSuccess=function(data){$rootScope.$apply(function(){$rootScope.boards=[],$rootScope.loading=!1,$rootScope.boards=data})};Trello.get("/members/me/boards",getSuccess)},trello.getBoard=function(id){trello.init();var getSuccess=function(data){$rootScope.$apply(function(){$rootScope.data=data,$rootScope.loading=!1,$rootScope.initializeTimeline()})};Trello.get("/boards/"+id+"/lists?cards=open&card_fields=all&fields=name",getSuccess)},trello});